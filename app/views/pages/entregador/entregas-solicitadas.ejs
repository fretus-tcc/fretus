<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fretus - Entregas Solicitadas</title>

    <%- include('../../partial/config/config.ejs') %>
    <%- include('../../partial/config/config-client-shipper.ejs') %>

    <!-- ! ver se vai ser alterado  -->

    <link rel="stylesheet" href="/CSS/client/price-indicator.css">
    <link rel="stylesheet" href="/CSS/shipper/requests.css">
    <link rel="stylesheet" href="/CSS/shipper/empty-alert.css">
    <link rel="stylesheet" href="/CSS/shipper/requests-notification.css">
    <link rel="stylesheet" href="/CSS/client/confirm-popup.css">

    <!-- ! -->
    <!-- SIMPLE NOTIFY - Notificações -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/simple-notify@1.0.4/dist/simple-notify.css" />
    <script src="https://cdn.jsdelivr.net/npm/simple-notify@1.0.4/dist/simple-notify.min.js"></script>
    <script src="/JS/notify.js"></script>
    <link rel="stylesheet" href="/CSS/notify.css">

</head>
<body>

    <!-- Notificações -->
    <% if (msgs.length > 0) { %>
        <% msgs.forEach(msg => { %>
            <script>notify('Olá, <%= autenticado.autenticado %>', 'Bem-vindo de volta', '<%= msg.status %>')</script>
        <% }) %>
    <% } %>

    <%- include('../../partial/header-client-shipper.ejs', { isClient: false }) %>
    
    <main>
        <h1>Entregas Solicitadas</h1>
        <section class="requests-container">
            <% if (pedidos) { %>
                <% pedidos.forEach(pedido => { %>
                    <article class="card">
                        <section class="top">
                            <article class="row">
                                <img src="https://files.axshare.com/gsc/NW3CCE/d7/2e/63/d72e6396c33043df9eca85714bda96d5/images/area_do_entregador__desktop_/u12.svg?pageId=162fbb92-5d69-4bc4-b5d2-9ac969f79156" alt="">
                                <span>Rua Carlos José de Castilho</span>
                            </article>
                            <article class="row track">
                                <img src="/imgs/shipper/track.png" alt="">
                            </article>
                            <article class="row">
                                <img src="https://files.axshare.com/gsc/NW3CCE/d7/2e/63/d72e6396c33043df9eca85714bda96d5/images/area_do_entregador__desktop_/u13.svg?pageId=162fbb92-5d69-4bc4-b5d2-9ac969f79156" alt="">
                                <span>Rua Carneiro Leão</span>
                            </article>
                        </section>
                        <section class="description">
                            <p>
                                <span class="description-title">Carga:</span>
                                <% if (pedido.cod_carga == 'P') { %>
                                    Pequena (até 15 Kg)
                                <% } else if (pedido.cod_carga == 'M') { %>
                                    Média (15 Kg até Y Kg)
                                <% } else { %>
                                    Grande (Z Kg em diante)
                                <% } %>
                            </p>
                            <p><span class="description-title">Agendamento:</span> <%= pedido.agendamento == 0 ? 'Entrega Imediata' : 'Entrega Agendada' %></p>
                        </section>
                        <section class="bottom">
                            <span class="price"><%= new Intl.NumberFormat('pt-br', {currency: 'BRL', style: 'currency'}).format(pedido.preco_pedido) %></span>
                            <article class="btns">
                                <button class="btn accept imediata">
                                    <img src="/imgs/shipper/check.png" alt="">
                                </button>
                                <button class="btn denied">
                                    <img src="/imgs/shipper/close.svg" alt="">
                                </button>
                            </article>
                        </section>
                        <section class="details">
                            <span class="indicator">i</span>
                        </section>
                    </article>
                <% }) %>
            <% } %>
            
            <!-- <article class="card">
                <section class="top">
                    <article class="row">
                        <img src="https://files.axshare.com/gsc/NW3CCE/d7/2e/63/d72e6396c33043df9eca85714bda96d5/images/area_do_entregador__desktop_/u12.svg?pageId=162fbb92-5d69-4bc4-b5d2-9ac969f79156" alt="">
                        <span>Rua Carlos José de Castilho</span>
                    </article>
                    <article class="row track">
                        <img src="/imgs/shipper/track.png" alt="">
                    </article>
                    <article class="row">
                        <img src="https://files.axshare.com/gsc/NW3CCE/d7/2e/63/d72e6396c33043df9eca85714bda96d5/images/area_do_entregador__desktop_/u13.svg?pageId=162fbb92-5d69-4bc4-b5d2-9ac969f79156" alt="">
                        <span>Rua Carneiro Leão</span>
                    </article>
                </section>
                <section class="description">
                    <p><span class="description-title">Carga:</span> Pequena (até 15 Kg)</p>
                    <p><span class="description-title">Agendamento:</span> Entrega Agendada</p>
                </section>
                <section class="bottom">
                    <span class="price">R$51,00</span>
                    <article class="btns">
                        <button class="btn accept">
                            <img src="/imgs/shipper/check.png" alt="">
                        </button>
                        <button class="btn denied">
                            <img src="/imgs/shipper/close.svg" alt="">
                        </button>
                    </article>
                </section>
                <section class="details">
                    <span class="indicator">i</span>
                </section>
            </article>
            <article class="card">
                <section class="top">
                    <article class="row">
                        <img src="https://files.axshare.com/gsc/NW3CCE/d7/2e/63/d72e6396c33043df9eca85714bda96d5/images/area_do_entregador__desktop_/u12.svg?pageId=162fbb92-5d69-4bc4-b5d2-9ac969f79156" alt="">
                        <span>Rua Carlos José de Castilho</span>
                    </article>
                    <article class="row track">
                        <img src="/imgs/shipper/track.png" alt="">
                    </article>
                    <article class="row">
                        <img src="https://files.axshare.com/gsc/NW3CCE/d7/2e/63/d72e6396c33043df9eca85714bda96d5/images/area_do_entregador__desktop_/u13.svg?pageId=162fbb92-5d69-4bc4-b5d2-9ac969f79156" alt="">
                        <span>Rua Carneiro Leão</span>
                    </article>
                </section>
                <section class="description">
                    <p><span class="description-title">Carga:</span> Pequena (até 15 Kg)</p>
                    <p><span class="description-title">Agendamento:</span> Entrega Agendada</p>
                </section>
                <section class="bottom">
                    <span class="price">R$51,00</span>
                    <article class="btns">
                        <button class="btn accept">
                            <img src="/imgs/shipper/check.png" alt="">
                        </button>
                        <button class="btn denied">
                            <img src="/imgs/shipper/close.svg" alt="">
                        </button>
                    </article>
                </section>
                <section class="details">
                    <span class="indicator">i</span>
                </section>
            </article>
            <article class="card">
                <section class="top">
                    <article class="row">
                        <img src="https://files.axshare.com/gsc/NW3CCE/d7/2e/63/d72e6396c33043df9eca85714bda96d5/images/area_do_entregador__desktop_/u12.svg?pageId=162fbb92-5d69-4bc4-b5d2-9ac969f79156" alt="">
                        <span>Rua Carlos José de Castilho</span>
                    </article>
                    <article class="row track">
                        <img src="/imgs/shipper/track.png" alt="">
                    </article>
                    <article class="row">
                        <img src="https://files.axshare.com/gsc/NW3CCE/d7/2e/63/d72e6396c33043df9eca85714bda96d5/images/area_do_entregador__desktop_/u13.svg?pageId=162fbb92-5d69-4bc4-b5d2-9ac969f79156" alt="">
                        <span>Rua Carneiro Leão</span>
                    </article>
                </section>
                <section class="description">
                    <p><span class="description-title">Carga:</span> Pequena (até 15 Kg)</p>
                    <p><span class="description-title">Agendamento:</span> Entrega Agendada</p>
                </section>
                <section class="bottom">
                    <span class="price">R$51,00</span>
                    <article class="btns">
                        <button class="btn accept">
                            <img src="/imgs/shipper/check.png" alt="">
                        </button>
                        <button class="btn denied">
                            <img src="/imgs/shipper/close.svg" alt="">
                        </button>
                    </article>
                </section>
                <section class="details">
                    <span class="indicator">i</span>
                </section>
            </article>
            <article class="card">
                <section class="top">
                    <article class="row">
                        <img src="https://files.axshare.com/gsc/NW3CCE/d7/2e/63/d72e6396c33043df9eca85714bda96d5/images/area_do_entregador__desktop_/u12.svg?pageId=162fbb92-5d69-4bc4-b5d2-9ac969f79156" alt="">
                        <span>Rua Carlos José de Castilho</span>
                    </article>
                    <article class="row track">
                        <img src="/imgs/shipper/track.png" alt="">
                    </article>
                    <article class="row">
                        <img src="https://files.axshare.com/gsc/NW3CCE/d7/2e/63/d72e6396c33043df9eca85714bda96d5/images/area_do_entregador__desktop_/u13.svg?pageId=162fbb92-5d69-4bc4-b5d2-9ac969f79156" alt="">
                        <span>Rua Carneiro Leão</span>
                    </article>
                </section>
                <section class="description">
                    <p><span class="description-title">Carga:</span> Pequena (até 15 Kg)</p>
                    <p><span class="description-title">Agendamento:</span> Entrega Agendada</p>
                </section>
                <section class="bottom">
                    <span class="price">R$51,00</span>
                    <article class="btns">
                        <button class="btn accept">
                            <img src="/imgs/shipper/check.png" alt="">
                        </button>
                        <button class="btn denied">
                            <img src="/imgs/shipper/close.svg" alt="">
                        </button>
                    </article>
                </section>
                <section class="details">
                    <span class="indicator">i</span>
                </section>
            </article>
            <article class="card">
                <section class="top">
                    <article class="row">
                        <img src="https://files.axshare.com/gsc/NW3CCE/d7/2e/63/d72e6396c33043df9eca85714bda96d5/images/area_do_entregador__desktop_/u12.svg?pageId=162fbb92-5d69-4bc4-b5d2-9ac969f79156" alt="">
                        <span>Rua Carlos José de Castilho</span>
                    </article>
                    <article class="row track">
                        <img src="/imgs/shipper/track.png" alt="">
                    </article>
                    <article class="row">
                        <img src="https://files.axshare.com/gsc/NW3CCE/d7/2e/63/d72e6396c33043df9eca85714bda96d5/images/area_do_entregador__desktop_/u13.svg?pageId=162fbb92-5d69-4bc4-b5d2-9ac969f79156" alt="">
                        <span>Rua Carneiro Leão</span>
                    </article>
                </section>
                <section class="description">
                    <p><span class="description-title">Carga:</span> Pequena (até 15 Kg)</p>
                    <p><span class="description-title">Agendamento:</span> Entrega Agendada</p>
                </section>
                <section class="bottom">
                    <span class="price">R$51,00</span>
                    <article class="btns">
                        <button class="btn accept">
                            <img src="/imgs/shipper/check.png" alt="">
                        </button>
                        <button class="btn denied">
                            <img src="/imgs/shipper/close.svg" alt="">
                        </button>
                    </article>
                </section>
                <section class="details">
                    <span class="indicator">i</span>
                </section>
            </article>
            <article class="card">
                <section class="top">
                    <article class="row">
                        <img src="https://files.axshare.com/gsc/NW3CCE/d7/2e/63/d72e6396c33043df9eca85714bda96d5/images/area_do_entregador__desktop_/u12.svg?pageId=162fbb92-5d69-4bc4-b5d2-9ac969f79156" alt="">
                        <span>Rua Carlos José de Castilho</span>
                    </article>
                    <article class="row track">
                        <img src="/imgs/shipper/track.png" alt="">
                    </article>
                    <article class="row">
                        <img src="https://files.axshare.com/gsc/NW3CCE/d7/2e/63/d72e6396c33043df9eca85714bda96d5/images/area_do_entregador__desktop_/u13.svg?pageId=162fbb92-5d69-4bc4-b5d2-9ac969f79156" alt="">
                        <span>Rua Carneiro Leão</span>
                    </article>
                </section>
                <section class="description">
                    <p><span class="description-title">Carga:</span> Pequena (até 15 Kg)</p>
                    <p><span class="description-title">Agendamento:</span> Entrega Agendada</p>
                </section>
                <section class="bottom">
                    <span class="price">R$51,00</span>
                    <article class="btns">
                        <button class="btn accept">
                            <img src="/imgs/shipper/check.png" alt="">
                        </button>
                        <button class="btn denied">
                            <img src="/imgs/shipper/close.svg" alt="">
                        </button>
                    </article>
                </section>
                <section class="details">
                    <span class="indicator">i</span>
                </section>
            </article>
            <article class="card">
                <section class="top">
                    <article class="row">
                        <img src="https://files.axshare.com/gsc/NW3CCE/d7/2e/63/d72e6396c33043df9eca85714bda96d5/images/area_do_entregador__desktop_/u12.svg?pageId=162fbb92-5d69-4bc4-b5d2-9ac969f79156" alt="">
                        <span>Rua Carlos José de Castilho</span>
                    </article>
                    <article class="row track">
                        <img src="/imgs/shipper/track.png" alt="">
                    </article>
                    <article class="row">
                        <img src="https://files.axshare.com/gsc/NW3CCE/d7/2e/63/d72e6396c33043df9eca85714bda96d5/images/area_do_entregador__desktop_/u13.svg?pageId=162fbb92-5d69-4bc4-b5d2-9ac969f79156" alt="">
                        <span>Rua Carneiro Leão</span>
                    </article>
                </section>
                <section class="description">
                    <p><span class="description-title">Carga:</span> Pequena (até 15 Kg)</p>
                    <p><span class="description-title">Agendamento:</span> Entrega Agendada</p>
                </section>
                <section class="bottom">
                    <span class="price">R$51,00</span>
                    <article class="btns">
                        <button class="btn accept">
                            <img src="/imgs/shipper/check.png" alt="">
                        </button>
                        <button class="btn denied">
                            <img src="/imgs/shipper/close.svg" alt="">
                        </button>
                    </article>
                </section>
                <section class="details">
                    <span class="indicator">i</span>
                </section>
            </article>
            <article class="card">
                <section class="top">
                    <article class="row">
                        <img src="https://files.axshare.com/gsc/NW3CCE/d7/2e/63/d72e6396c33043df9eca85714bda96d5/images/area_do_entregador__desktop_/u12.svg?pageId=162fbb92-5d69-4bc4-b5d2-9ac969f79156" alt="">
                        <span>Rua Carlos José de Castilho</span>
                    </article>
                    <article class="row track">
                        <img src="/imgs/shipper/track.png" alt="">
                    </article>
                    <article class="row">
                        <img src="https://files.axshare.com/gsc/NW3CCE/d7/2e/63/d72e6396c33043df9eca85714bda96d5/images/area_do_entregador__desktop_/u13.svg?pageId=162fbb92-5d69-4bc4-b5d2-9ac969f79156" alt="">
                        <span>Rua Carneiro Leão</span>
                    </article>
                </section>
                <section class="description">
                    <p><span class="description-title">Carga:</span> Pequena (até 15 Kg)</p>
                    <p><span class="description-title">Agendamento:</span> Entrega Agendada</p>
                </section>
                <section class="bottom">
                    <span class="price">R$51,00</span>
                    <article class="btns">
                        <button class="btn accept">
                            <img src="/imgs/shipper/check.png" alt="">
                        </button>
                        <button class="btn denied">
                            <img src="/imgs/shipper/close.svg" alt="">
                        </button>
                    </article>
                </section>
                <section class="details">
                    <span class="indicator">i</span>
                </section>
            </article> -->
        </section>
        <article class="empty-alert">
            <img src="/imgs/shipper/error-icon.png" alt="">
            <p>Você ainda não foi solicitado para nenhuma entrega</p>
        </article>
    </main>
    <article class="notification-container"></article>

    <%- include('../../partial/popup/info.ejs') %>
    <%- include('../../partial/menu-burguer.ejs', { type: 'shipper' }) %>

    <script src="/JS/burguer.js"></script>
    <script src="/JS/client/show-notification.js"></script>
    <script src="/JS/shipper/request.js"></script>
    <script src="/JS/shipper/popup-info.js"></script>
</body>
</html>